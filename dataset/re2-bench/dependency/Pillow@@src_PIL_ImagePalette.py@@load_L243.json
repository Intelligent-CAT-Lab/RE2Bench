{
    "Pillow.src.PIL.GimpGradientFile.__init__": "def __init__(self, fp):\n    if fp.readline()[:13] != b\"GIMP Gradient\":\n        msg = \"not a GIMP gradient file\"\n        raise SyntaxError(msg)\n\n    line = fp.readline()\n\n    # GIMP 1.2 gradient files don't contain a name, but GIMP 1.3 files do\n    if line.startswith(b\"Name: \"):\n        line = fp.readline().strip()\n\n    count = int(line)\n\n    gradient = []\n\n    for i in range(count):\n        s = fp.readline().split()\n        w = [float(x) for x in s[:11]]\n\n        x0, x1 = w[0], w[2]\n        xm = w[1]\n        rgb0 = w[3:7]\n        rgb1 = w[7:11]\n\n        segment = SEGMENTS[int(s[11])]\n        cspace = int(s[12])\n\n        if cspace != 0:\n            msg = \"cannot handle HSV colour space\"\n            raise OSError(msg)\n\n        gradient.append((x0, x1, xm, rgb0, rgb1, segment))\n\n    self.gradient = gradient",
    "Pillow.src.PIL.GimpGradientFile.getpalette": "def getpalette(self, entries=256):\n    palette = []\n\n    ix = 0\n    x0, x1, xm, rgb0, rgb1, segment = self.gradient[ix]\n\n    for i in range(entries):\n        x = i / (entries - 1)\n\n        while x1 < x:\n            ix += 1\n            x0, x1, xm, rgb0, rgb1, segment = self.gradient[ix]\n\n        w = x1 - x0\n\n        if w < EPSILON:\n            scale = segment(0.5, 0.5)\n        else:\n            scale = segment((xm - x0) / w, (x - x0) / w)\n\n        # expand to RGBA\n        r = o8(int(255 * ((rgb1[0] - rgb0[0]) * scale + rgb0[0]) + 0.5))\n        g = o8(int(255 * ((rgb1[1] - rgb0[1]) * scale + rgb0[1]) + 0.5))\n        b = o8(int(255 * ((rgb1[2] - rgb0[2]) * scale + rgb0[2]) + 0.5))\n        a = o8(int(255 * ((rgb1[3] - rgb0[3]) * scale + rgb0[3]) + 0.5))\n\n        # add to palette\n        palette.append(r + g + b + a)\n\n    return b\"\".join(palette), \"RGBA\"",
    "Pillow.src.PIL.GimpPaletteFile.__init__": "def __init__(self, fp):\n    self.palette = [o8(i) * 3 for i in range(256)]\n\n    if fp.readline()[:12] != b\"GIMP Palette\":\n        msg = \"not a GIMP palette file\"\n        raise SyntaxError(msg)\n\n    for i in range(256):\n        s = fp.readline()\n        if not s:\n            break\n\n        # skip fields and comment lines\n        if re.match(rb\"\\w+:|#\", s):\n            continue\n        if len(s) > 100:\n            msg = \"bad palette file\"\n            raise SyntaxError(msg)\n\n        v = tuple(map(int, s.split()[:3]))\n        if len(v) != 3:\n            msg = \"bad palette entry\"\n            raise ValueError(msg)\n\n        self.palette[i] = o8(v[0]) + o8(v[1]) + o8(v[2])\n\n    self.palette = b\"\".join(self.palette)",
    "Pillow.src.PIL.PaletteFile.__init__": "def __init__(self, fp):\n    self.palette = [(i, i, i) for i in range(256)]\n\n    while True:\n        s = fp.readline()\n\n        if not s:\n            break\n        if s[:1] == b\"#\":\n            continue\n        if len(s) > 100:\n            msg = \"bad palette file\"\n            raise SyntaxError(msg)\n\n        v = [int(x) for x in s.split()]\n        try:\n            [i, r, g, b] = v\n        except ValueError:\n            [i, r] = v\n            g = b = r\n\n        if 0 <= i <= 255:\n            self.palette[i] = o8(r) + o8(g) + o8(b)\n\n    self.palette = b\"\".join(self.palette)",
    "Pillow.src.PIL.PaletteFile.getpalette": "def getpalette(self):\n    return self.palette, self.rawmode"
}