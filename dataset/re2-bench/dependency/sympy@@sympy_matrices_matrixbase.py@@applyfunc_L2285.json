{
    "sympy.sympy.matrices.matrixbase._eval_applyfunc": "def _eval_applyfunc(self, f: Callable[[Expr], Expr]) -> Self:\n    cols = self.cols\n    size = self.rows*self.cols\n\n    dok = self.todok()\n    valmap = {v: f(v) for v in dok.values()}\n\n    if len(dok) < size and ((fzero := f(S.Zero)) is not S.Zero):\n        out_flat = [fzero]*size\n        for (i, j), v in dok.items():\n            out_flat[i*cols + j] = valmap[v]\n        out = self._new(self.rows, self.cols, out_flat)\n    else:\n        fdok = {ij: valmap[v] for ij, v in dok.items()}\n        out = self.from_dok(self.rows, self.cols, fdok)\n\n    return out"
}