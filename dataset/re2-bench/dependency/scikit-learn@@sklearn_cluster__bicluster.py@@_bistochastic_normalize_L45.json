{
    "scikit-learn.sklearn.cluster._bicluster._scale_normalize": "def _scale_normalize(X):\n    \"\"\"Normalize ``X`` by scaling rows and columns independently.\n\n    Returns the normalized matrix and the row and column scaling\n    factors.\n    \"\"\"\n    X = make_nonnegative(X)\n    row_diag = np.asarray(1.0 / np.sqrt(X.sum(axis=1))).squeeze()\n    col_diag = np.asarray(1.0 / np.sqrt(X.sum(axis=0))).squeeze()\n    row_diag = np.where(np.isnan(row_diag), 0, row_diag)\n    col_diag = np.where(np.isnan(col_diag), 0, col_diag)\n    if issparse(X):\n        n_rows, n_cols = X.shape\n        r = dia_matrix((row_diag, [0]), shape=(n_rows, n_rows))\n        c = dia_matrix((col_diag, [0]), shape=(n_cols, n_cols))\n        an = r @ X @ c\n    else:\n        an = row_diag[:, np.newaxis] * X * col_diag\n    return an, row_diag, col_diag",
    "scikit-learn.sklearn.utils.extmath.make_nonnegative": "def make_nonnegative(X, min_value=0):\n    \"\"\"Ensure `X.min()` >= `min_value`.\n\n    Parameters\n    ----------\n    X : array-like\n        The matrix to make non-negative.\n    min_value : float, default=0\n        The threshold value.\n\n    Returns\n    -------\n    array-like\n        The thresholded array.\n\n    Raises\n    ------\n    ValueError\n        When X is sparse.\n    \"\"\"\n    min_ = X.min()\n    if min_ < min_value:\n        if sparse.issparse(X):\n            raise ValueError(\n                \"Cannot make the data matrix\"\n                \" nonnegative because it is sparse.\"\n                \" Adding a value to every entry would\"\n                \" make it no longer sparse.\"\n            )\n        X = X + (min_value - min_)\n    return X"
}