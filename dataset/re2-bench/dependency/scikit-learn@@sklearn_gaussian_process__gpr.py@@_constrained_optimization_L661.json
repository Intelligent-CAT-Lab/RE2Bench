{
    "scikit-learn.sklearn.utils.optimize._check_optimize_result": "def _check_optimize_result(solver, result, max_iter=None, extra_warning_msg=None):\n    \"\"\"Check the OptimizeResult for successful convergence\n\n    Parameters\n    ----------\n    solver : str\n       Solver name. Currently only `lbfgs` is supported.\n\n    result : OptimizeResult\n       Result of the scipy.optimize.minimize function.\n\n    max_iter : int, default=None\n       Expected maximum number of iterations.\n\n    extra_warning_msg : str, default=None\n        Extra warning message.\n\n    Returns\n    -------\n    n_iter : int\n       Number of iterations.\n    \"\"\"\n    # handle both scipy and scikit-learn solver names\n    if solver == \"lbfgs\":\n        if max_iter is not None:\n            # In scipy <= 1.0.0, nit may exceed maxiter for lbfgs.\n            # See https://github.com/scipy/scipy/issues/7854\n            n_iter_i = min(result.nit, max_iter)\n        else:\n            n_iter_i = result.nit\n\n        if result.status != 0:\n            warning_msg = (\n                f\"{solver} failed to converge after {n_iter_i} iteration(s) \"\n                f\"(status={result.status}):\\n\"\n                f\"{result.message}\\n\"\n            )\n            # Append a recommendation to increase iterations only when the\n            # number of iterations reaches the maximum allowed (max_iter),\n            # as this suggests the optimization may have been prematurely\n            # terminated due to the iteration limit.\n            if max_iter is not None and n_iter_i == max_iter:\n                warning_msg += (\n                    f\"\\nIncrease the number of iterations to improve the \"\n                    f\"convergence (max_iter={max_iter}).\"\n                )\n            warning_msg += (\n                \"\\nYou might also want to scale the data as shown in:\\n\"\n                \"    https://scikit-learn.org/stable/modules/\"\n                \"preprocessing.html\"\n            )\n            if extra_warning_msg is not None:\n                warning_msg += \"\\n\" + extra_warning_msg\n            warnings.warn(warning_msg, ConvergenceWarning, stacklevel=2)\n\n    else:\n        raise NotImplementedError\n\n    return n_iter_i"
}