{
    "matplotlib.lib.matplotlib.tri._triinterpolate.compute_geom_weights": "def compute_geom_weights(self):\n    \"\"\"\n    Build the (nelems, 3) weights coeffs of _triangles angles,\n    renormalized so that np.sum(weights, axis=1) == np.ones(nelems)\n    \"\"\"\n    weights = np.zeros([np.size(self._triangles, 0), 3])\n    tris_pts = self._tris_pts\n    for ipt in range(3):\n        p0 = tris_pts[:, ipt % 3, :]\n        p1 = tris_pts[:, (ipt+1) % 3, :]\n        p2 = tris_pts[:, (ipt-1) % 3, :]\n        alpha1 = np.arctan2(p1[:, 1]-p0[:, 1], p1[:, 0]-p0[:, 0])\n        alpha2 = np.arctan2(p2[:, 1]-p0[:, 1], p2[:, 0]-p0[:, 0])\n        # In the below formula we could take modulo 2. but\n        # modulo 1. is safer regarding round-off errors (flat triangles).\n        angle = np.abs(((alpha2-alpha1) / np.pi) % 1)\n        # Weight proportional to angle up np.pi/2; null weight for\n        # degenerated cases 0 and np.pi (note that *angle* is normalized\n        # by np.pi).\n        weights[:, ipt] = 0.5 - np.abs(angle-0.5)\n    return weights",
    "matplotlib.lib.matplotlib.tri._triinterpolate.compute_geom_grads": "def compute_geom_grads(self):\n    \"\"\"\n    Compute the (global) gradient component of f assumed linear (~f).\n    returns array df of shape (nelems, 2)\n    df[ielem].dM[ielem] = dz[ielem] i.e. df = dz x dM = dM.T^-1 x dz\n    \"\"\"\n    tris_pts = self._tris_pts\n    tris_f = self.z[self._triangles]\n\n    dM1 = tris_pts[:, 1, :] - tris_pts[:, 0, :]\n    dM2 = tris_pts[:, 2, :] - tris_pts[:, 0, :]\n    dM = np.dstack([dM1, dM2])\n    # Here we try to deal with the simplest colinear cases: a null\n    # gradient is assumed in this case.\n    dM_inv = _safe_inv22_vectorized(dM)\n\n    dZ1 = tris_f[:, 1] - tris_f[:, 0]\n    dZ2 = tris_f[:, 2] - tris_f[:, 0]\n    dZ = np.vstack([dZ1, dZ2]).T\n    df = np.empty_like(dZ)\n\n    # With np.einsum: could be ej,eji -> ej\n    df[:, 0] = dZ[:, 0]*dM_inv[:, 0, 0] + dZ[:, 1]*dM_inv[:, 1, 0]\n    df[:, 1] = dZ[:, 0]*dM_inv[:, 0, 1] + dZ[:, 1]*dM_inv[:, 1, 1]\n    return df"
}