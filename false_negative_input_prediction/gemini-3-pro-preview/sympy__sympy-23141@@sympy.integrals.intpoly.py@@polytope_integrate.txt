<<FUNCTION_NAME>>

polytope_integrate

<<CODE>>

from functools import cmp_to_key
from sympy.abc import x, y, z
from sympy.core import S, diff, Expr, Symbol
from sympy.core.sympify import _sympify
from sympy.geometry import Segment2D, Polygon, Point, Point2D
from sympy.polys.polytools import LC, gcd_list, degree_list, Poly
from sympy.simplify.simplify import nsimplify
from sympy.plotting.plot import Plot, List2DSeries
from sympy.plotting.plot import plot3d, plot



def polytope_integrate(poly, expr=None, *, clockwise=False, max_degree=None):
    if clockwise:
        if isinstance(poly, Polygon):
            poly = Polygon(*point_sort(poly.vertices), evaluate=False)
        else:
            raise TypeError("clockwise=True works for only 2-Polytope"
                            "V-representation input")

    if isinstance(poly, Polygon):
        hp_params = hyperplane_parameters(poly)
        facets = poly.sides
    elif len(poly[0]) == 2:
        plen = len(poly)
        if len(poly[0][0]) == 2:
            intersections = [intersection(poly[(i - 1) % plen], poly[i],
                                          "plane2D")
                             for i in range(0, plen)]
            hp_params = poly
            lints = len(intersections)
            facets = [Segment2D(intersections[i],
                                intersections[(i + 1) % lints])
                      for i in range(0, lints)]
        else:
            raise NotImplementedError("Integration for H-representation 3D"
                                      "case not implemented yet.")
    else:
        vertices = poly[0]
        facets = poly[1:]
        hp_params = hyperplane_parameters(facets, vertices)

        if max_degree is None:
            if expr is None:
                raise TypeError('Input expression must be a valid SymPy expression')
            return main_integrate3d(expr, facets, vertices, hp_params)

    if max_degree is not None:
        result = {}
        if expr is not None:
            f_expr = []
            for e in expr:
                _ = decompose(e)
                if len(_) == 1 and not _.popitem()[0]:
                    f_expr.append(e)
                elif Poly(e).total_degree() <= max_degree:
                    f_expr.append(e)
            expr = f_expr

        if not isinstance(expr, list) and expr is not None:
            raise TypeError('Input polynomials must be list of expressions')

        if len(hp_params[0][0]) == 3:
            result_dict = main_integrate3d(0, facets, vertices, hp_params,
                                           max_degree)
        else:
            result_dict = main_integrate(0, facets, hp_params, max_degree)

        if expr is None:
            return result_dict

        for poly in expr:
            poly = _sympify(poly)
            if poly not in result:
                if poly.is_zero:
                    result[S.Zero] = S.Zero
                    continue
                integral_value = S.Zero
                monoms = decompose(poly, separate=True)
                for monom in monoms:
                    monom = nsimplify(monom)
                    coeff, m = strip(monom)
                    integral_value += result_dict[m] * coeff
                result[poly] = integral_value
        return result

    if expr is None:
        raise TypeError('Input expression must be a valid SymPy expression')

    return main_integrate(expr, facets, hp_params)


<<GROUND_TRUTH_INPUT>>

{'self': {}, 'args': {'poly': {}, 'expr': 'x*y'}, 'kwargs': {'clockwise': True}}

<<GROUND_TRUTH_OUTPUT>>

1/8

<<LLM_RESPONSE>>

[THOUGHT]
The user wants to find the input to `polytope_integrate` that yields `"1/8"`.
`polytope_integrate` computes the definite integral of a polynomial over a 2D polytope (Polygon).
Possible scenarios yielding 1/8:
1. Integration over the unit square `Polygon((0,0), (1,0), (1,1), (0,1))`?
   - $\int xy dx dy = 1/4$.
   - $\int x^3 y dx dy = 1/4 * 1/2 = 1/8$. This is a candidate ($\text{expr} = x^3 y$).
2. Integration over a basic triangle `Polygon((0,0), (1,0), (1,1))` (Triangle $T1$: $0 \le x \le 1, 0 \le y \le x$).
   - $\int xy dA = \int_0^1 \int_0^x xy dy dx = \int_0^1 \frac{x^3}{2} dx = \frac{1}{8}$. This is a candidate for `expr = x*y`.
3. Integration over integration triangle `Polygon((0,0), (1,1), (0,1))` (Triangle $T2$: $0 \le y \le 1, 0 \le x \le y$).
   - $\int xy dA$ is symmetric to $T1$ for symmetric integrand $xy$. Result 1/8.

Between "Square with $x^3 y$" and "Triangle with $xy$", the triangle with `xy` (degree 2) is a simpler polynomial than $x^3 y$ (degree 4). Standard test cases usually start with lower degrees. The triangle `(0,0), (1,0), (1,1)` is a very standard simplex.
I will select `poly = Polygon(Point(0, 0), Point(1, 0), Point(1, 1))` and `expr = x * y`. The default orientation is counter-clockwise, so `clockwise=False`.
[/THOUGHT]

[INPUT]
```
{
    "self": {},
    "args": {
        "poly": Polygon(Point(0, 0), Point(1, 0), Point(1, 1)),
        "expr": x*y
    },
    "kwargs": {
        "clockwise": False
    }
}
```
[/INPUT]