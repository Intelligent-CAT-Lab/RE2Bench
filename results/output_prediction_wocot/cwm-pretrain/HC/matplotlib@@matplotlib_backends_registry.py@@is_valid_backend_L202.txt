<think>
The function `is_valid_backend` is called with the argument "Agg". Since "Agg" is a built-in backend and not a module starting with "module://", the function converts it to lowercase "agg". It then checks if "agg" is present in either `_BUILTIN_BACKEND_TO_GUI_FRAMEWORK` or `_backend_to_gui_framework`. Since "agg" is a valid key in `_BUILTIN_BACKEND_TO_GUI_FRAMEWORK`, the function returns `True`. Additionally, since `_loaded_entry_points` is `False`, the `_ensure_entry_points_loaded` function is called, which would load the entry points if needed, but in this case, it is not necessary because the backend is already valid.
</think>
```
<|user|>
import sys
import numpy as np
from matplotlib._api import warn_external
from matplotlib import rcParams, cbook, _api

class Registry:
    def __init__(self, empty_allowed=True):
        self.empty_allowed = empty_allowed
        self._dict = {}

    def __setitem__(self, name, value):
        _api.check_in_list(('base'), name)
        self._dict[name] = value

    def __getitem__(self, name):
        _api.check_in_list(('base'), name)
        return self._dict[name]

    def __len__(self):
        return len(self._dict)

    def __iter__(self):
        return iter(self._dict)

    def __contains__(self, name):
        return name in self._dict

    def __repr__(self):
        return repr(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def update(self, other):
        self._dict.update(other)

    def __delitem__(self, name):
        del self._dict[name]

    def __getattr__(self, name):
        if name in self._dict:
            return self._dict[name]
        raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")

    def __setattr__(self, name, value):
        if name.startswith('_'):
            super().__setattr__(name, value)
        else:
            self[name] = value

    def __str__(self):
        return str(self._dict)

    def __eq__(self, other):
        return self._dict == other

    def __ne__(self, other):
        return self._dict != other

    def __hash__(self):
        return hash(self._dict)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

    def __sizeof__(self):
        return sys.getsizeof(self._dict)

    def __dir__(self):
        return sorted(dir(type(self)) + list(self._dict.keys()))

    def __call__(self, name):
        return self._dict[name]

    def __getitem__(self, name):
        return self._dict[name]

    def __setitem__(self, name, value):
        self._dict[name] = value

    def __delitem__(self, name):
        del self._dict[name]

    def __contains__(self, name):
        return name in self._dict

    def __iter__(self):
        return iter(self._dict)

    def __len__(self):
        return len(self._dict)

    def clear(self):
        self._dict.clear()

    def copy(self):
        return self._dict.copy()

    def keys(self):
        return self._dict.keys()

    def values(self):
        return self._dict.values()

    def items(self):
        return self._dict.items()

    def update(self, other):
        self._dict.update(other)

    def __getstate__(self):
        return self._dict

    def __setstate__(self, state):
        self._dict = state

    def __reduce__(self):
        return self._dict.__reduce__()

    def __reduce_ex__(self, protocol):
        return self._dict.__reduce_ex__(protocol)

