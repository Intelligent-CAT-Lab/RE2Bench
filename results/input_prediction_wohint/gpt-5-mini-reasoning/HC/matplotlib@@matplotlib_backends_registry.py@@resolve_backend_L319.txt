[THOUGHT]
We need resolve_backend(...) to return ("agg", None). Execution:

- If backend argument is a str, it's lowercased. For "agg" this stays "agg".
- _BUILTIN_BACKEND_TO_GUI_FRAMEWORK maps "agg" -> "headless".
- gui == "headless", so the function returns (backend, None) because it returns gui if gui != 'headless' else None.
- Thus passing backend="agg" produces the output ["agg", null].

No entry-point loading or other state is required for this path, so self can be a typical registry instance (loaded flags/maps can be defaults).
[/THOUGHT]

[INPUT]
```
{
    "self": {
        "_loaded_entry_points": false,
        "_backend_to_gui_framework": {},
        "_name_to_module": {
            "notebook": "nbagg"
        }
    },
    "args": {
        "backend": "agg"
    },
    "kwargs": {}
}
```
[/INPUT]