[THOUGHT]
The function `split_super_sub` processes the string `text = "alpha^+_1"`.
`len(text)` is 9.

Initialization:
- `pos = 0`
- `name = None`
- `supers = []`
- `subs = []`

**Iteration 1:**
- Loop condition at line 15: `pos < len(text)` (0 < 9) is True.
- `pos` is 0.
- `start` = 0 + 1 = 1.
- `text[0:2]` is "al" (not "__").
- `pos_hat` = `text.find("^", 1)`. In "alpha^+_1", "^" is at index 5. So `pos_hat` = 5.
- `pos_usc` = `text.find("_", 1)`. In "alpha^+_1", "_" is at index 7. So `pos_usc` = 7.
- `pos_next` = `min(5, 7)` = 5.
- `part` = `text[0:5]` = "alpha".
- `pos` is updated to 5.
- `name` becomes "alpha".

**Iteration 2:**
- Loop condition at line 15: `pos < len(text)` (5 < 9) is True.
- `pos` is 5.
- `start` = 5 + 1 = 6.
- `text[5:7]` is "^+" (not "__").
- `pos_hat` = `text.find("^", 6)`. Searching for "^" after index 6 returns -1.
- `pos_hat` becomes 9 (`len(text)`).
- `pos_usc` = `text.find("_", 6)`. "_" is at index 7. So `pos_usc` = 7.
- `pos_next` = `min(9, 7)` = 7.
- `part` = `text[5:7]` = "^+".
- `pos` is updated to 7.
- `part` starts with "^", so `supers` appends "+".

**Iteration 3:**
- Loop condition at line 15: `pos < len(text)` (7 < 9) is True.
- `pos` is 7.
- `start` = 7 + 1 = 8.
- `text[7:9]` is "_1" (not "__").
- `pos_hat` = `text.find("^", 8)`. Returns -1.
- `pos_hat` becomes 9.
- `pos_usc` = `text.find("_", 8)`. Searching after index 8 ("1") returns -1.
- `pos_usc` becomes 9.
- `pos_next` = `min(9, 9)` = 9.
- `part` = `text[7:9]` = "_1".
- `pos` is updated to 9.
- `part` starts with "_", so `subs` appends "1".

**Iteration 4 (Condition Check):**
- Loop condition at line 15: `pos < len(text)` (9 < 9) is False.
- Loop terminates.

Variables state history at line 15 (start of iterations):
`pos`: [0, 5, 7]
`len(text)`: [9, 9, 9]
[/THOUGHT]

[ANSWER]
1 from __future__ import print_function, division
2 import re
3 import collections
4 
5 _name_with_digits_p = re.compile(r'^([a-zA-Z]+)([0-9]+)$')
6 
7 def split_super_sub(text):
8     if len(text) == 0:
9         return text, [], []
10 
11     pos = 0
12     name = None
13     supers = []
14     subs = []
15     while pos < len(text):## [STATE]pos=[0, 5, 7][/STATE] [STATE]len(text)=[9, 9, 9][/STATE]
16         start = pos + 1
17         if text[pos:pos + 2] == "__":
18             start += 1
19         pos_hat = text.find("^", start)
20         if pos_hat < 0:
21             pos_hat = len(text)
22         pos_usc = text.find("_", start)
23         if pos_usc < 0:
24             pos_usc = len(text)
25         pos_next = min(pos_hat, pos_usc)
26         part = text[pos:pos_next]
27         pos = pos_next
28         if name is None:
29             name = part
30         elif part.startswith("^"):
31             supers.append(part[1:])
32         elif part.startswith("__"):
33             supers.append(part[2:])
34         elif part.startswith("_"):
35             subs.append(part[1:])
36         else:
37             raise RuntimeError("This should never happen.")
38 
39     m = _name_with_digits_p.match(name)
40     if m:
41         name, sub = m.groups()
42         subs.insert(0, sub)
43 
44     return name, supers, subs
[/ANSWER]