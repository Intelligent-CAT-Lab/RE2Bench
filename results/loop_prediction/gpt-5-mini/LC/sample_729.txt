[THOUGHT]
s1 = "abcdefghabc", s2 = "abc". s1.rfind(s2) returns the highest start index of "abc", which is 8. First loop iteration i = 8. Inside loop, i is updated with s1.rfind(s2, 0, i) -> s1.rfind("abc", 0, 8) searches s1[0:8] and finds "abc" at index 0, so i becomes 0 for the second iteration. Next update s1.rfind("abc", 0, 0) searches an empty range and returns -1, terminating the loop. The while body runs twice with i values [8, 0].
[/THOUGHT]
[ANSWER]
1 def f(s1,s2):
2     res = []
3     i = s1.rfind(s2)
4     while i != -1:## [STATE]i=[8, 0][/STATE]
5         res.append(i+len(s2)-1)
6         i = s1.rfind(s2, 0, i)
7     return res
[/ANSWER]