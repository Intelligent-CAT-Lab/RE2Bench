[THOUGHT]
We need resolve_backend to return ("agg", None) as shown in the output.

1. If backend is a string not starting with "module://", it's lowercased. Passing "agg" (or any case variant) yields backend == "agg".
2. The code determines gui by checking the built-in mapping first:
   _BUILTIN_BACKEND_TO_GUI_FRAMEWORK maps "agg" -> "headless".
   So gui becomes "headless".
3. The function returns (backend, gui if gui != 'headless' else None). Since gui == "headless", the second element becomes None.
4. No entry-point loading is required because the built-in mapping already supplies gui; therefore _loaded_entry_points and _name_to_module do not affect this path.

Thus the input should set backend to "agg". _loaded_entry_points can be False (default), and _name_to_module["notebook"] can be the usual "nbagg".
[/THOUGHT]

[INPUT]
```
{
    "self": {
        "_loaded_entry_points": false,
        "_backend_to_gui_framework": {},
        "_name_to_module": {
            "notebook": "nbagg"
        }
    },
    "args": {
        "backend": "agg"
    },
    "kwargs": {}
}
```
[/INPUT]