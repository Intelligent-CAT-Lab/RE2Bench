[THOUGHT]
name = ".NET"
name[::-1] -> "TEN."
Loop iterations (i from 0 to 3):
i=0: n='T'. n!='.' is True, new_name.count('.') = 0 < 2 True -> if taken ('Y'). new_name = 'T'
i=1: n='E'. n!='.' True, count('.') = 0 < 2 True -> if taken ('Y'). new_name = 'E'+'T' = 'ET'
i=2: n='N'. n!='.' True, count('.') = 0 < 2 True -> if taken ('Y'). new_name = 'N'+'ET' = 'NET'
i=3: n='.'. n!='.' is False -> if not taken ('N'), else taken ('Y'), then break

So the if branch is encountered 4 times: [Y, Y, Y, N]
The else branch is also considered each iteration: [N, N, N, Y]
[/THOUGHT]

[ANSWER]
1 def f(name):
2     new_name =''
3     name = name[::-1]
4     for i in range(len(name)):
5         n = name[i]
6         if n !='.' and  new_name.count('.')<2: ## [BRANCH]taken=[Y,Y,Y,N][/BRANCH]
7             new_name=n+new_name
8         else: ## [BRANCH]taken=[N,N,N,Y][/BRANCH]
9             break
10     return new_name
[/ANSWER]