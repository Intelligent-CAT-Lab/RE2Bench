[THOUGHT]
Let me trace through the `prepare_url` method with the given input:

Input:
- url = "http://127.0.0.1:10000//v:h" (a string)
- params = {} (a dictionary)

Line 56: `if isinstance(url, bytes):`
- url is a string, not bytes
- Branch taken: N

Line 58: `else:` (implicit else)
- This is executed
- Branch taken: Y

Line 60: `url = url.lstrip()`
- url becomes "http://127.0.0.1:10000//v:h" (no leading whitespace to strip)

Line 61: `if ':' in url and (not url.lower().startswith('http')):`
- ':' is in url (yes, multiple colons)
- url.lower().startswith('http') is True
- So `not url.lower().startswith('http')` is False
- The condition is False (True and False = False)
- Branch taken: N

Line 65: `scheme, auth, host, port, path, query, fragment = parse_url(url)`
- parse_url parses "http://127.0.0.1:10000//v:h"
- scheme = 'http'
- auth = None
- host = '127.0.0.1'
- port = 10000
- path = '//v:h'
- query = ''
- fragment = ''

Line 68: `if not scheme:`
- scheme is 'http', so `not scheme` is False
- Branch taken: N

Line 70: `if not host:`
- host is '127.0.0.1', so `not host` is False
- Branch taken: N

Line 72: `if not unicode_is_ascii(host):`
- host = '127.0.0.1' which is ASCII
- unicode_is_ascii(host) should return True
- `not unicode_is_ascii(host)` is False
- Branch taken: N

Line 77: `elif host.startswith(('*', '.')):`
- host = '127.0.0.1'
- host.startswith(('*', '.')) is False
- Branch taken: N

Line 80: `if netloc:`
- netloc = auth or '' = None or '' = ''
- `if netloc:` checks if netloc is truthy
- Empty string '' is falsy
- Branch taken: N

Line 83: `if port:`
- port = 10000
- `if port:` - 10000 is truthy
- Branch taken: Y

Line 85: `if not path:`
- path = '//v:h'
- `not path` is False
- Branch taken: N

Line 87: `if isinstance(params, (str, bytes)):`
- params = {} (a dictionary)
- isinstance({}, (str, bytes)) is False
- Branch taken: N

Line 90: `if enc_params:`
- enc_params = self._encode_params(params)
- params is an empty dictionary {}
- _encode_params({}) should return an empty string or None
- Let me think about this: if params is empty, enc_params would be empty/falsy
- Branch taken: N

Line 91: `if query:` - This is inside the `if enc_params:` block which is not taken, so this line doesn't execute

So the branches are:
1. Line 56: N
2. Line 58: Y
3. Line 61: N
4. Line 68: N
5. Line 70: N
6. Line 72: N
7. Line 77: N
8. Line 80: N
9. Line 83: Y
10. Line 85: N
11. Line 87: N
12. Line 90: N
13. Line 91: (not executed)
</THOUGHT>

[ANSWER]
1 from urllib3.exceptions import (
2     DecodeError,
3     LocationParseError,
4     ProtocolError,
5     ReadTimeoutError,
6     SSLError,
7 )
8 from urllib3.util import parse_url
9 from ._internal_utils import to_native_string, unicode_is_ascii
10 from .compat import urlencode, urlsplit, urlunparse
11 from .exceptions import (
12     ChunkedEncodingError,
13     ConnectionError,
14     ContentDecodingError,
15     HTTPError,
16     InvalidJSONError,
17     InvalidURL,
18 )
19 from .exceptions import MissingSchema
20 from .hooks import default_hooks
21 from .utils import (
22     check_header_validity,
23     get_auth_from_url,
24     guess_filename,
25     guess_json_utf,
26     iter_slices,
27     parse_header_links,
28     requote_uri,
29     stream_decode_response_unicode,
30     super_len,
31     to_key_val_list,
32 )
33 import idna
34 
35 class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):
36 
37     def __init__(self):
38         self.method = None
39         self.url = None
40         self.headers = None
41         self._cookies = None
42         self.body = None
43         self.hooks = default_hooks()
44         self._body_position = None
45 
46     @staticmethod
47     def _get_idna_encoded_host(host):
48         import idna
49         try:
50             host = idna.encode(host, uts46=True).decode('utf-8')
51         except idna.IDNAError:
52             raise UnicodeError
53         return host
54 
55     def prepare_url(self, url, params):
56         if isinstance(url, bytes): ## [BRANCH]taken=['N'][/BRANCH]
57             url = url.decode('utf8')
58         else: ## [BRANCH]taken=['Y'][/BRANCH]
59             url = str(url)
60         url = url.lstrip()
61         if ':' in url and (not url.lower().startswith('http')): ## [BRANCH]taken=['N'][/BRANCH]
62             self.url = url
63             return
64         try:
65             scheme, auth, host, port, path, query, fragment = parse_url(url)
66         except LocationParseError as e:
67             raise InvalidURL(*e.args)
68         if not scheme: ## [BRANCH]taken=['N'][/BRANCH]
69             raise MissingSchema(f'Invalid URL {url!r}: No scheme supplied. Perhaps you meant https://{url}?')
70         if not host: ## [BRANCH]taken=['N'][/BRANCH]
71             raise InvalidURL(f'Invalid URL {url!r}: No host supplied')
72         if not unicode_is_ascii(host): ## [BRANCH]taken=['N'][/BRANCH]
73             try:
74                 host = self._get_idna_encoded_host(host)
75             except UnicodeError:
76                 raise InvalidURL('URL has an invalid label.')
77         elif host.startswith(('*', '.')): ## [BRANCH]taken=['N'][/BRANCH]
78             raise InvalidURL('URL has an invalid label.')
79         netloc = auth or ''
80         if netloc: ## [BRANCH]taken=['N'][/BRANCH]
81             netloc += '@'
82         netloc += host
83         if port: ## [BRANCH]taken=['Y'][/BRANCH]
84             netloc += f':{port}'
85         if not path: ## [BRANCH]taken=['N'][/BRANCH]
86             path = '/'
87         if isinstance(params, (str, bytes)): ## [BRANCH]taken=['N'][/BRANCH]
88             params = to_native_string(params)
89         enc_params = self._encode_params(params)
90         if enc_params: ## [BRANCH]taken=['N'][/BRANCH]
91             if query: ## [BRANCH]taken=['N'][/BRANCH]
92                 query = f'{query}&{enc_params}'
93             else:
94                 query = enc_params
95         url = requote_uri(urlunparse([scheme, netloc, path, None, query, fragment]))
96         self.url = url
97 
[/ANSWER]