[THOUGHT]
Let me trace through the `resolve_backend` method step by step with `backend = "agg"`:

1. **First condition**: Check if backend is a string
   - `isinstance(backend, str)` → True
   - `backend.startswith('module://')` → False
   - So `backend = backend.lower()` → `backend = "agg"` (already lowercase)

2. **Get GUI framework from builtin mapping**:
   - `gui = self._BUILTIN_BACKEND_TO_GUI_FRAMEWORK.get("agg")`
   - Looking at `_BUILTIN_BACKEND_TO_GUI_FRAMEWORK`, we see: `'agg': 'headless'`
   - So `gui = 'headless'`
   - The `or` part doesn't execute since the first part returned a non-None value

3. **Check if gui is None and backend starts with 'module://'**:
   - `gui = 'headless'` (not None), so this condition is False - skip

4. **Check if gui is None and entry points not loaded**:
   - `gui = 'headless'` (not None), so this condition is False - skip

5. **Check if gui == 'unknown'**:
   - `gui = 'headless'` (not 'unknown'), so this condition is False - skip

6. **Check if gui is None**:
   - `gui = 'headless'` (not None), so this condition is False - skip

7. **Return statement**:
   - `return (backend, gui if gui != 'headless' else None)`
   - `gui = 'headless'`, so `gui != 'headless'` is False
   - Returns `("agg", None)`
</THOUGHT>

[OUTPUT]
```
{
    "return_value": ["agg", null]
}
```
[/OUTPUT]